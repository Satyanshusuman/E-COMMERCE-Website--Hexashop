{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" type="text/css" href="/static/css/cart.css">
<body class="p-5">
    <section class="h-100 gradient-custom">
        <div class="container my-5 p-5">          
                <h1><b class="text-capitalize"> Welcome {{request.user}}</b></h1>
                <div class="col-sm-3 offset-sm-4">     
                    <!-- <img class="rounded-circle " src="" style="width: 125px;height: 125px;padding: 5px;">
                     -->
                    <ul class="list-unstyled">
                        <li class="d-grid"><a href="/Cust/profile" class="btn "> Customer details</a></li>
                        <li class="d-grid p-3"><a href="/orderhist" class="btn {{active}}">orderhistory</a></li>
                    </ul>
                </div>  
                {% for hist in orderhists %}
                <div class="card mb-2">
                    <div class="card-body">
                        <div  class="row">
                            <div class="bg-image hover-overlay hover-zoom ripple rounded" data-mdb-ripple-color="light">
                               <img src="{{hist.product.image.url}}" style="width: 100px;"/> 
                            </div> 
                            <div class="col-md-8 ">
                                <h5>Product: {{hist.product.title}}</h5>
                                <p>Quantity: {{hist.quantity}}</p>
                                <p class="fw-bold">Price:{{hist.total_cost}}</p>
                                <p class="fw-bold">Ordered date: {{hist.ordered_date}}</p>

                            </div>
                            <div class="col-sm-2 mx-2">
                                <p>Order Status:{{hist.status}}</p>
                                {% if hist.status == "Accepted" %}
                                    <div class="progress">
                                        <div class="progressbar" role="progressbar" 
                                        style="width: 20%" aria-valuenow="20"aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                    </div>
                                {% endif %}
                                {% if hist.status == "Packed" %}
                                    <div class="progress">
                                        <div class="progressbar bg-info" role="progressbar" 
                                        style="width: 40%" aria-valuenow="40"aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                    </div>
                                {% endif %}
                                {% if hist.status == "On The Way" %}
                                    <div class="progress">
                                        <div class="progressbar bg-warning" role="progressbar" 
                                        style="width: 70%" aria-valuenow="70"aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                    </div>
                                {% endif %}
                                {% if hist.status == "Deleivered" %}
                                    <div class="progress">
                                        <div class="progressbar bg-success" role="progressbar" 
                                        style="width: 100%" aria-valuenow="100"aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                    </div>
                                {% endif %}
                                {% if hist.status == "Cancel" %}
                                    <div class="progress">
                                        <div class="progressbar bg-danger" role="progressbar" 
                                        style="width: 100%" aria-valuenow="100"aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                    </div>
                                {% endif %}
                            </div>   
                        </div>
                      
                    </div>
                </div>
               {% endfor %} 
            </div>
        </div>
    </section>
</body>
{% endblock %}